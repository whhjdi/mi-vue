(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OrderCheckout"],{"14e4":function(t,e,a){},2241:function(t,e,a){"use strict";var n,s=a("c31d"),i=a("2b0e"),o=a("fe7e"),c=a("b650"),r=a("6605"),l=Object(o["a"])({render:function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("transition",{attrs:{name:"van-dialog-bounce"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],class:[e.b(),e.className]},[e.title?n("div",{class:e.b("header",{isolated:!e.message&&!e.$slots.default}),domProps:{textContent:e._s(e.title)}}):e._e(),e.message||e.$slots.default?n("div",{class:e.b("content")},[e._t("default",[e.message?n("div",{class:e.b("message",(t={"has-title":e.title},t[e.messageAlign]=e.messageAlign,t)),domProps:{innerHTML:e._s(e.message)}}):e._e()])],2):e._e(),n("div",{staticClass:"van-hairline--top",class:e.b("footer",{buttons:e.showCancelButton&&e.showConfirmButton})},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showCancelButton,expression:"showCancelButton"}],class:e.b("cancel"),attrs:{size:"large",loading:e.loading.cancel,text:e.cancelButtonText||e.$t("cancel")},on:{click:function(t){e.handleAction("cancel")}}}),n("van-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],class:[e.b("confirm"),{"van-hairline--left":e.showCancelButton&&e.showConfirmButton}],attrs:{size:"large",loading:e.loading.confirm,text:e.confirmButtonText||e.$t("confirm")},on:{click:function(t){e.handleAction("confirm")}}})],1)])])},name:"dialog",components:{VanButton:c["a"]},mixins:[r["a"]],props:{title:String,message:String,callback:Function,className:[String,Object,Array],beforeClose:Function,messageAlign:String,confirmButtonText:String,cancelButtonText:String,showCancelButton:Boolean,showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{handleAction:function(t){var e=this;this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,function(a){!1!==a&&e.onClose(t),e.loading[t]=!1})):this.onClose(t)},onClose:function(t){this.$emit("input",!1),this.$emit(t),this.callback&&this.callback(t)}}}),u=a("a142"),d=function(){n=new(i["a"].extend(l))({el:document.createElement("div")}),n.$on("input",function(t){n.value=t}),document.body.appendChild(n.$el)},f=function t(e){return u["f"]?Promise.resolve():new Promise(function(a,i){n||d(),Object(s["a"])(n,t.currentOptions,e,{resolve:a,reject:i})})};f.defaultOptions={value:!0,title:"",message:"",overlay:!0,className:"",lockScroll:!0,beforeClose:null,messageAlign:"",confirmButtonText:"",cancelButtonText:"",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,callback:function(t){n["confirm"===t?"resolve":"reject"](t)}},f.alert=f,f.confirm=function(t){return f(Object(s["a"])({showCancelButton:!0},t))},f.close=function(){n&&(n.value=!1)},f.setDefaultOptions=function(t){Object(s["a"])(f.currentOptions,t)},f.resetDefaultOptions=function(){f.currentOptions=Object(s["a"])({},f.defaultOptions)},f.install=function(){i["a"].use(l)},i["a"].prototype.$dialog=f,f.resetDefaultOptions();e["a"]=f},"2f94":function(t,e,a){"use strict";var n=a("d225"),s=a("b0b4"),i=a("e1d2"),o=function(){function t(){Object(n["a"])(this,t)}return Object(s["a"])(t,null,[{key:"fetchAddressList",value:function(){return Object(i["a"])("addressList")}},{key:"fetchCheckout",value:function(){return Object(i["a"])("checkout")}},{key:"fetchOrderList",value:function(t){return Object(i["a"])("orderList",{params:{type:t}})}}]),t}();e["a"]=o},"2fcb":function(t,e,a){},5656:function(t,e,a){"use strict";var n=a("14e4"),s=a.n(n);s.a},"9f14":function(t,e,a){"use strict";var n=a("fe7e"),s=a("f331");e["a"]=Object(n["a"])({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.b({disabled:t.isDisabled}),on:{click:function(e){t.$emit("click")}}},[a("span",{class:t.b("input")},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentValue,expression:"currentValue"}],class:t.b("control"),attrs:{type:"radio",disabled:t.isDisabled},domProps:{value:t.name,checked:t._q(t.currentValue,t.name)},on:{change:function(e){t.currentValue=t.name}}}),a("icon",{style:t.iconStyle,attrs:{name:t.checked?"checked":"circle"}})],1),t.$slots.default?a("span",{class:t.b("label",t.labelPosition),on:{click:t.onClickLabel}},[t._t("default")],2):t._e()])},name:"radio",mixins:[s["a"]],props:{name:null,value:null,disabled:Boolean,checkedColor:String,labelDisabled:Boolean,labelPosition:Boolean},computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor;if(t&&this.checked&&!this.isDisabled)return{color:t}}},created:function(){this.findParent("van-radio-group")},methods:{onClickLabel:function(){this.isDisabled||this.labelDisabled||(this.currentValue=this.name)}}})},a425:function(t,e,a){"use strict";a.r(e);var n,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checkout"},[a("van-popup",{attrs:{position:"top",overlay:!1},model:{value:t.showNavBar,callback:function(e){t.showNavBar=e},expression:"showNavBar"}},[a("van-nav-bar",{attrs:{title:"用户结算"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left",color:"#000",size:"20px"},slot:"left"}),a("van-icon",{attrs:{slot:"right",name:"wap-home",color:"#000",size:"20px"},slot:"right"})],1)],1),a("van-cell-group",{staticClass:"address"},[a("van-cell",{attrs:{title:"收货地址",value:"修改地址",icon:"shop-o",label:t.addressDetail,"is-link":"",to:{name:"addressList"}}})],1),a("div",{staticClass:"b2"},[a("ul",{staticClass:"list-wrapper"},t._l(t.payMethod,function(e,n){return a("li",{key:e.type,staticClass:"item-wrapper"},[a("div",{staticClass:"item",class:{on:e.checked},on:{click:function(e){t.chosePay(n)}}},[a("a",{class:e.type,attrs:{href:"javascript:;"}},[t._v(t._s(e.value))]),a("div",{staticClass:"sub"},[t._v(t._s(e.subtitle))])])])}),0)]),a("div",{staticClass:"b3"},[a("ul",{staticClass:"list"},t._l(t.cartList,function(e,n){return a("li",{key:n,staticClass:"item"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image_url,expression:"item.image_url"}],staticClass:"item-img",staticStyle:{width:"50px"},attrs:{alt:""}}),a("div",{staticClass:"name"},[t._v(t._s(e.short_name))]),a("div",{staticClass:"num"},[t._v("x"+t._s(e.num)+"="+t._s(e.subtotal))])])}),0)]),a("van-submit-bar",{attrs:{price:t.allPrice,"button-text":"去付款"},on:{submit:t.onPay}})],1)},i=[],o=(a("96cf"),a("3b8d")),c=a("cebc"),r=(a("ac6a"),a("bd86")),l=(a("e17f"),a("2241")),u=(a("c3a6"),a("ad06")),d=(a("68ef"),a("dde9"),a("9f14")),f=a("e27c"),h=a("34e9"),m=(a("7f7f"),a("c194"),a("7744")),p=a("9c9e"),v=a("2f62"),b=a("2f94"),g={name:"orderCheckout",components:(n={},Object(r["a"])(n,m["a"].name,m["a"]),Object(r["a"])(n,h["a"].name,h["a"]),Object(r["a"])(n,f["a"].name,f["a"]),Object(r["a"])(n,d["a"].name,d["a"]),Object(r["a"])(n,u["a"].name,u["a"]),Object(r["a"])(n,l["a"].name,l["a"]),n),props:{},data:function(){return{address:{},cartList:[],payMethod:[],productMoney:"",total:0}},watch:{},mixins:[p["b"],p["a"]],computed:{addressDetail:function(){return this.address.province+this.address.city+this.address.district+this.address.area+this.address.address+"("+this.address.zipcode+")"},allPrice:function(){var t=0;return this.cartList.forEach(function(e){t+=e.subtotal}),100*t}},methods:Object(c["a"])({},Object(v["d"])({setShowFooter:"SET_SHOW_FOOTER"}),{onPay:function(){var t=this;l["a"].alert({title:"支付",message:"支付成功,确认进入订单"}).then(function(){t.$router.push({name:"orderList"})}).catch(function(){})},chosePay:function(t){this.payMethod.forEach(function(e,a){e.checked=a===t})},onClickRight:function(){this.$router.push({name:"home"})},getCheckout:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b["a"].fetchCheckout();case 2:e=t.sent,console.log(e),this.address=e.data.address,this.cartList=e.data.cartlist.items,this.payMethod=e.data.paymethod.slice(0,5),this.productMoney=e.data.productMoney,this.total=e.data.total;case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}),created:function(){this.getCheckout()},mounted:function(){},beforeRouteEnter:function(t,e,a){a(function(t){e.name||t.$router.push({name:"home"})})}},C=g,k=(a("5656"),a("2877")),y=Object(k["a"])(C,s,i,!1,null,"1d05c4da",null);y.options.__file="OrderCheckout.vue";e["default"]=y.exports},ac6a:function(t,e,a){for(var n=a("cadf"),s=a("0d58"),i=a("2aba"),o=a("7726"),c=a("32e9"),r=a("84f2"),l=a("2b4c"),u=l("iterator"),d=l("toStringTag"),f=r.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=s(h),p=0;p<m.length;p++){var v,b=m[p],g=h[b],C=o[b],k=C&&C.prototype;if(k&&(k[u]||c(k,u,f),k[d]||c(k,d,b),r[b]=f,g))for(v in n)k[v]||i(k,v,n[v],!0)}},c194:function(t,e,a){"use strict";a("68ef")},dde9:function(t,e,a){},e17f:function(t,e,a){"use strict";a("68ef"),a("4d75"),a("2fcb")},e27c:function(t,e,a){"use strict";var n=a("fe7e");e["a"]=Object(n["a"])({render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.b()},[t._t("default")],2)},name:"radio-group",props:{value:null,disabled:Boolean},watch:{value:function(t){this.$emit("change",t)}}})}}]);
//# sourceMappingURL=OrderCheckout.9c26f5d9.js.map