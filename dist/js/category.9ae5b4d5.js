(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["category"],{3191:function(t,e,a){"use strict";var i=a("d225"),r=a("b0b4"),s=a("e1d2"),n=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"fetchHomePage",value:function(){return Object(s["a"])("homePage")}},{key:"fetchCategory",value:function(){return Object(s["a"])("category")}},{key:"fetchProductView",value:function(t){return Object(s["a"])("productView",{params:{id:t}})}},{key:"fetchEstDelivery",value:function(){return Object(s["a"])("estDelivery",{params:{}})}}]),t}();e["a"]=n},4805:function(t,e,a){},4886:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("van-popup",{attrs:{position:"top",overlay:!1},model:{value:t.showNavBar,callback:function(e){t.showNavBar=e},expression:"showNavBar"}},[a("van-nav-bar",{attrs:{title:"分类"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}},[a("van-icon",{attrs:{slot:"left",name:"arrow-left",color:"#000",size:"20px"},slot:"left"}),a("van-icon",{attrs:{slot:"right",name:"search",color:"#000",size:"20px"},slot:"right"})],1)],1),a("div",{staticClass:"nav"},[a("ul",{staticClass:"nav-list"},t._l(t.nav,function(e,i){return a("li",{key:e.ucid,staticClass:"list-item",class:{active:t.currentIndex===i},on:{click:function(a){t.selectItem(e,i)}}},[a("div",{staticClass:"name"},[t._v(t._s(e.category_name))])])}),0)]),a("div",{ref:"detail",staticClass:"detail",attrs:{id:"detail"},on:{touchstart:t.scrollDetail}},t._l(t.nav,function(e,i){return a("div",{key:e.category_id,ref:"category"+i,refInFor:!0,staticClass:"list-item-wrapper"},[a("div",{staticClass:"content"},[a("div",{staticClass:"group-title"},[a("div",{staticClass:"group-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.category_img,expression:"list.category_img"}],attrs:{alt:""}})]),a("div",{staticClass:"category_name"},[t._v("-"+t._s(e.category_name)+"-")])]),a("ul",{staticClass:"group-list-wrapper"},t._l(e.category_list,function(e,i){return a("li",{key:"title"+i,staticClass:"group-list-item"},[a("div",{staticClass:"category-title"},[t._v(t._s(e.category_title))]),a("div",{staticClass:"group-wrapper"},[a("category-group",{attrs:{list:e.category_group}})],1)])}),0)])])}),0)],1)},r=[],s=(a("ac6a"),a("96cf"),a("3b8d")),n=a("3191"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-group"},[a("ul",{staticClass:"list-group"},t._l(t.list,function(e,i){return a("li",{key:i,staticClass:"list-item",on:{click:function(a){t.handleClick(e.category_id)}}},[a("div",{staticClass:"group-item-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img_url,expression:"item.img_url"}],staticClass:"product-img",attrs:{alt:""}})]),a("div",{staticClass:"product-name"},[t._v(t._s(e.product_name))])])}),0)])},c=[],l={name:"",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{handleClick:function(t){this.$router.push({name:"detail",params:{id:t}})}},created:function(){},mounted:function(){}},u=l,f=(a("a4d1"),a("2877")),d=Object(f["a"])(u,o,c,!1,null,"58027400",null);d.options.__file="CategoryGroup.vue";var p=d.exports,v=a("9c9e"),g={name:"category",components:{CategoryGroup:p},mixins:[v["b"]],props:{},data:function(){return{nav:[],currentIndex:0,offsetTop:[]}},watch:{},computed:{},methods:{onClickRight:function(){},getCategory:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].fetchCategory();case 2:e=t.sent,this.setCategory(e);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),setCategory:function(t){var e=this;this.nav=t.data.lists,this.$nextTick(function(){e.nav.forEach(function(t,a){e.offsetTop.push(e.$refs["category"+a][0].offsetTop)})})},selectItem:function(t,e){this.currentIndex=e;var a=this.offsetTop[e],i=this.$refs.detail;i.removeEventListener("scroll",this.scrollHandler),i.scrollTo(0,a)},scrollDetail:function(){this.$refs.detail.addEventListener("scroll",this.handleScroll)},handleScroll:function(){var t=this;clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(function(){for(var e=t.$refs.detail.scrollTop,a=t.offsetTop.length,i=0;i<a;i++)if(e>=t.offsetTop[i]&&e<t.offsetTop[i+1]){t.currentIndex=i;break}},100)}},created:function(){this.getCategory()},mounted:function(){}},m=g,h=(a("b685"),Object(f["a"])(m,i,r,!1,null,"18495e29",null));h.options.__file="Category.vue";e["default"]=h.exports},a4d1:function(t,e,a){"use strict";var i=a("d2bb"),r=a.n(i);r.a},ac6a:function(t,e,a){for(var i=a("cadf"),r=a("0d58"),s=a("2aba"),n=a("7726"),o=a("32e9"),c=a("84f2"),l=a("2b4c"),u=l("iterator"),f=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(p),g=0;g<v.length;g++){var m,h=v[g],y=p[h],C=n[h],_=C&&C.prototype;if(_&&(_[u]||o(_,u,d),_[f]||o(_,f,h),c[h]=d,y))for(m in i)_[m]||s(_,m,i[m],!0)}},b685:function(t,e,a){"use strict";var i=a("4805"),r=a.n(i);r.a},d2bb:function(t,e,a){}}]);
//# sourceMappingURL=category.9ae5b4d5.js.map